name: Greenfield Full-Stack Development Workflow
description: Complete workflow for building a new full-stack application from scratch
type: greenfield
project_type: fullstack

steps:
  - step: 1
    name: "Project Discovery"
    agent: analyst
    inputs:
      - user_requirements
      - business_objectives
    outputs:
      - project_brief.json
      - reasoning.json
    validation:
      schema: .opencode/schema/project-brief.schema.json

  - step: 2
    name: "Product Requirements"
    agent: pm
    inputs:
      - project_brief.json (from step 1)
    outputs:
      - prd.json
      - reasoning.json
    validation:
      schema: .opencode/schema/prd.schema.json

  - step: 3
    name: "UX Design"
    agent: ux-expert
    inputs:
      - prd.json (from step 2)
    outputs:
      - ux-spec.json
      - reasoning.json
    validation:
      schema: .opencode/schema/ux-spec.schema.json

  - step: 4
    name: "System Architecture"
    agent: architect
    inputs:
      - prd.json (from step 2)
      - ux-spec.json (from step 3)
    outputs:
      - system-architecture.json
      - reasoning.json
    validation:
      schema: .opencode/schema/architecture.schema.json

  - step: 5
    name: "Database Architecture"
    agent: database-architect
    inputs:
      - system-architecture.json (from step 4)
      - prd.json (from step 2)
    outputs:
      - database-architecture.json
      - reasoning.json

  - step: 6
    name: "Test Planning"
    agent: qa
    inputs:
      - system-architecture.json (from step 4)
      - prd.json (from step 2)
    outputs:
      - test-plan.json
      - reasoning.json
    validation:
      schema: .opencode/schema/test-plan.schema.json

  - step: 7
    name: "Implementation"
    agent: developer
    inputs:
      - system-architecture.json (from step 4)
      - ux-spec.json (from step 3)
      - test-plan.json (from step 6)
    outputs:
      - dev-manifest.json
      - code_artifacts
      - reasoning.json

  - step: 8
    name: "Documentation"
    agent: technical-writer
    inputs:
      - dev-manifest.json (from step 7)
      - system-architecture.json (from step 4)
    outputs:
      - documentation.json
      - reasoning.json

  - step: 9
    name: "Quality Assurance"
    agent: qa
    inputs:
      - dev-manifest.json (from step 7)
      - test-plan.json (from step 6)
    outputs:
      - quality_report.json
      - test_results.json

completion_criteria:
  - All artifacts validated against schemas
  - Quality gates passed
  - Test coverage meets threshold
  - Code follows project constitution
