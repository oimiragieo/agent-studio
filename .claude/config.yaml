# Unified Enterprise AI Framework Configuration
# Merges capabilities from Legacy, Superpowers, and Claude-Flow

# --- Router Configuration (The Gatekeeper) ---
agent_routing:
  router:
    model: claude-haiku-4-5
    complexity: low
    priority: highest
    context_strategy: minimal
    description: 'Lightweight router to classify intent and assign optimal agent/workflow.'

# --- Agent Defaults (Token Optimization) ---
# All agents default to lazy loading to save tokens.
defaults:
  context_strategy: lazy_load
  token_optimization:
    enabled: true
    pruning_threshold_lines: 100
    auto_summary: true

# --- Integration Settings ---
integrations:
  superpowers:
    tdd_enforcement: true
    plan_execution: batch
  claude_flow:
    swarm_topology: hierarchical
    consensus: byzantine

# --- Token Monitoring ---
token_monitoring:
  enabled: true
  max_session_tokens: 60000 # Warning threshold
  hard_limit: 100000 # Action required

# --- Evolution Settings (Self-Evolution System) ---
evolution:
  auto_start: true # EVOLVE workflow auto-triggers when new artifacts block (opt-out mode)
  rate_limit: 3 # Max evolutions per hour
  rate_limit_window_ms: 3600000 # 1 hour in milliseconds

# --- Core Agents Definition (Pointers) ---
agents:
  planner:
    path: agents/core/planner.md
    model: claude-opus-4-5-20251101
    extended_thinking: true
  developer:
    path: agents/core/developer.md
    model: claude-sonnet-4-5
  qa:
    path: agents/core/qa.md
    model: claude-opus-4-5-20251101
  architect:
    path: agents/core/architect.md
    model: claude-opus-4-5-20251101
