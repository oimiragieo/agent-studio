# CUJ-006: Architecture Review

## User Goal
Review and analyze existing system architecture.

## Trigger
- "Review my system architecture"
- "Analyze architecture"
- "Architecture review"

## Workflow

**Execution Mode**: `workflow`

### Step 1: Planning
- Planner creates review plan
- Identifies review scope

### Step 2: Architecture Analysis
- Architect analyzes system
- Reviews components and relationships
- Identifies patterns and anti-patterns

### Step 3: Diagram Generation
- diagram-generator creates architecture diagrams
- Visualizes system structure
- Documents relationships

### Step 4: Review Report
- Architect generates review report
- Identifies issues and recommendations
- Provides improvement suggestions

## Agents Used
- Planner -> Architect

## Skills Used
- `diagram-generator` - Architecture diagrams

## Expected Outputs
- Architecture review report
- Architecture diagrams
- Recommendations document

## Success Criteria

| Criterion | Measurement | Target |
|-----------|-------------|--------|
| Review plan created | Artifact validated by gate | `plan-{{workflow_id}}.json` validated by gate file |
| Architecture analyzed | Artifact exists and complete | `architecture-review-{{workflow_id}}.json` populated |
| Component inventory documented | Artifact components field | Components array populated in `architecture-review-{{workflow_id}}.json` |
| Diagrams generated | Diagram artifacts exist | `diagrams/architecture-{{workflow_id}}.mmd` and `diagrams/components-{{workflow_id}}.mmd` created |
| Issues identified with severity | Artifact issues field | Issues array with severity ratings in `architecture-review-{{workflow_id}}.json` |
| Recommendations prioritized | Artifact recommendations field | Recommendations array with priority in `architecture-review-{{workflow_id}}.json` |
| Report validated | Schema validation | Validated against `.claude/schemas/architecture-review.schema.json` |

## Example Prompts
```
"Review my system architecture"
"Analyze the architecture of this application"
"Generate architecture diagrams"
```

## Related Documentation
- [Architect Agent](../../agents/architect.md)
- [diagram-generator Skill](../../skills/diagram-generator/SKILL.md)
