# CUJ-006: Architecture Review

## User Goal
Review and analyze existing system architecture.

## Trigger
- "Review my system architecture"
- "Analyze architecture"
- "Architecture review"

## Workflow

**Execution Mode**: `skill-only`

### Step 1: Planning
- Planner creates review plan
- Identifies review scope

### Step 2: Architecture Analysis
- Architect analyzes system
- Reviews components and relationships
- Identifies patterns and anti-patterns

### Step 3: Diagram Generation
- diagram-generator creates architecture diagrams
- Visualizes system structure
- Documents relationships

### Step 4: Review Report
- Architect generates review report
- Identifies issues and recommendations
- Provides improvement suggestions

## Agents Used
- Planner -> Architect

## Skills Used
- `diagram-generator` - Architecture diagrams

## Expected Outputs
- Architecture review report
- Architecture diagrams
- Recommendations document

## Success Criteria
- [ ] Review plan created (artifact: `plan-{{workflow_id}}.json`, validated by gate file)
- [ ] Architecture analyzed (artifact: `architecture-review-{{workflow_id}}.json`)
- [ ] Component inventory documented (artifact: `architecture-review-{{workflow_id}}.json`, components array populated)
- [ ] Diagrams generated (artifacts: `diagrams/architecture-{{workflow_id}}.mmd`, `diagrams/components-{{workflow_id}}.mmd`)
- [ ] Issues identified with severity ratings (artifact: `architecture-review-{{workflow_id}}.json`, issues array with severity field)
- [ ] Recommendations prioritized (artifact: `architecture-review-{{workflow_id}}.json`, recommendations array with priority field)
- [ ] Report validated (schema: `.claude/schemas/architecture-review.schema.json`)

## Example Prompts
```
"Review my system architecture"
"Analyze the architecture of this application"
"Generate architecture diagrams"
```

## Related Documentation
- [Architect Agent](../../agents/architect.md)
- [diagram-generator Skill](../../skills/diagram-generator/SKILL.md)
