# CUJ-002: Rule Configuration

## User Goal
Auto-detect project tech stack and configure appropriate rules.

## Trigger
- `/select-rules` command
- "Select rules for this project"
- "Configure rules for my stack"

## Workflow

### Step 1: Stack Detection
- rule-selector skill scans project files
- Detects: package.json, requirements.txt, go.mod, etc.
- Identifies technologies: React, Next.js, TypeScript, Python, etc.

### Step 2: Rule Selection
- Queries rule index for matching rules
- Selects relevant rule packs
- Excludes irrelevant rules

### Step 3: Configuration Generation
- Generates/updates `manifest.yaml`
- Configures active rules
- Sets up rule hierarchy

### Step 4: Validation
- Validates rule configuration
- Checks for conflicts
- Reports selected rules

## Agents Used
- None (skill-based)

## Skills Used
- `rule-selector` - Auto-detects stack and configures rules

## Expected Outputs
- Updated `manifest.yaml` with selected rules
- Rule configuration report
- List of active rules

## Success Criteria
- ✅ Tech stack correctly identified
- ✅ Relevant rules selected
- ✅ Irrelevant rules excluded
- ✅ Configuration valid

## Example Prompts
```
/select-rules
"Select rules for this Next.js TypeScript project"
"Configure rules for my Python FastAPI project"
```

## Related Documentation
- [rule-selector Skill](../../skills/rule-selector/SKILL.md)
- [Rules Documentation](../../rules/)

