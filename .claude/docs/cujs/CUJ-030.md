# CUJ-030: Multi-AI Validation Workflow

## User Goal

Validate code quality using multiple AI models for consensus.

## Trigger

- "Validate the implementation"
- Step 8 in greenfield-fullstack workflow
- Need for multi-model code review

## Workflow

**Execution Mode**: `skill-only`

### Step 8: Multi-AI Validation

- Model-Orchestrator coordinates validation
- Cursor Validator reviews code
- Gemini Validator reviews code
- Codex Validator reviews code
- Consensus calculation (2/3 agreement)
- Issue identification and routing
- Disagreement resolution:
  - 2/3 agreement: Route consensus issues to Developer
  - 1/3 finding: Log as low-priority warning
  - All 3 disagree: Flag for human review

### Step 9+: Issue Resolution

- Issues routed to appropriate agents
- Developer fixes consensus issues
- Disagreements flagged for human review

## Agents Used

- Model-Orchestrator → [Cursor/Gemini/Codex Validators] → Developer

## Skills Used

- `multi-ai-code-review`

## Expected Outputs

- validation-report.json
- consensus-issues.json
- disagreements.json

## Success Criteria

| Criterion                             | Measurement                     | Target                                                       |
| ------------------------------------- | ------------------------------- | ------------------------------------------------------------ |
| All three validators execute          | Validator execution logs        | Cursor, Gemini, and Codex validators all complete            |
| Consensus calculated correctly        | Consensus algorithm validation  | 2/3 agreement properly identified                            |
| Issues properly categorized           | Issue categorization count      | Issues categorized as consensus, warning, or disagreement    |
| Disagreements identified              | Disagreement detection accuracy | All 3-way disagreements flagged                              |
| Issues routed appropriately           | Agent routing validation        | Consensus issues routed to Developer, disagreements to human |
| Disagreement resolution logic applied | Resolution rule validation      | 2/3 agreement → fix, 1/3 → warn, 0/3 → escalate              |

## Example Prompts

```
"Validate the code implementation"
"Run multi-AI code review"
```

## Related Documentation

- [greenfield-fullstack Workflow](../../workflows/greenfield-fullstack.yaml) - Step 8
- [Model-Orchestrator Agent](../../agents/model-orchestrator.md) - Disagreement Resolution
