{
  "$schema": "https://json.schemastore.org/claude-settings",
  "version": "1.0",
  "tool_permissions": {
    "always_allow": [
      "Read",
      "Search"
    ],
    "require_confirmation": [
      "Edit",
      "Bash"
    ],
    "always_deny": [
      "Bash(rm -rf *)",
      "Bash(format *)",
      "Bash(dd *)",
      "Bash(mkfs *)"
    ]
  },
  "bash_commands": {
    "safe_patterns": [
      "npm run *",
      "pnpm *",
      "yarn *",
      "python -m pytest *",
      "git status",
      "git diff",
      "git log",
      "npm test",
      "npm run lint",
      "npm run typecheck"
    ],
    "require_confirmation": [
      "git commit",
      "git push",
      "npm install",
      "npm uninstall"
    ],
    "blocked_patterns": [
      "rm -rf",
      "sudo *",
      "format *",
      "dd *",
      "mkfs *"
    ]
  },
  "mcp_servers": {
    "enabled": [
      "repo",
      "artifacts"
    ],
    "repo": {
      "description": "Repository RAG for codebase search",
      "used_by_skill": "repo-rag"
    },
    "artifacts": {
      "description": "Artifact publishing to Claude Projects",
      "used_by_skill": "artifact-publisher"
    }
  },
  "hooks": {
    "enabled": true,
    "hooks_dir": ".claude/hooks",
    "hooks": [
      {
        "name": "plan-and-scan",
        "file": "pre_tool_use.yaml",
        "trigger": "PreToolUse",
        "enabled": true
      },
      {
        "name": "summarize-and-publish",
        "file": "post_tool_use.yaml",
        "trigger": "PostToolUse",
        "enabled": true
      },
      {
        "name": "normalize-intent",
        "file": "user_prompt_submit.yaml",
        "trigger": "UserPromptSubmit",
        "enabled": true
      }
    ]
  },
  "session": {
    "auto_save": true,
    "context_file": ".claude/context/session.json",
    "max_context_tokens": 100000
  },
  "claude_projects": {
    "enabled": true,
    "artifacts_enabled": true,
    "auto_publish_artifacts": true
  },
  "extended_thinking": {
    "enabled": true,
    "use_for_agents": [
      "architect",
      "qa",
      "security-architect",
      "orchestrator"
    ],
    "budget": "medium",
    "interleaved": true
  },
  "agent_config": {
    "agent_directory": ".claude/agents",
    "custom_agents_directory": ".claude/_cfg/agents",
    "precedence": ["custom", "project", "user"]
  },
  "streaming": {
    "enabled": true,
    "fine_grained_tool_streaming": {
      "enabled": true,
      "beta_header": "fine-grained-tool-streaming-2025-05-14",
      "description": "Streams tool parameters without buffering JSON validation, reducing latency for large parameters",
      "error_handling": {
        "invalid_json_wrapper": "INVALID_JSON",
        "retry_on_incomplete": true,
        "max_retries": 2,
        "log_malformed_params": true
      },
      "performance": {
        "chunk_size": "auto",
        "buffer_timeout_ms": 100,
        "enable_for_agents": [
          "architect",
          "developer",
          "qa",
          "security-architect",
          "devops",
          "orchestrator"
        ],
        "disable_for_simple_tools": true
      },
      "monitoring": {
        "track_latency": true,
        "log_chunk_sizes": false,
        "alert_on_incomplete_json": true
      }
    },
    "real_time_feedback": {
      "show_tool_progress": true,
      "display_parameter_streaming": true,
      "show_chunk_indicators": false
    }
  }
}

