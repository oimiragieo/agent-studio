{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "version": "2.0",
  "tool_permissions": {
    "always_allow": [
      "Read",
      "Search",
      "Edit",
      "Write",
      "Glob",
      "Grep",
      "Task",
      "Bash(node *)",
      "Bash(python *)",
      "Bash(npm *)",
      "Bash(pnpm *)",
      "Bash(yarn *)",
      "Bash(npx *)",
      "Bash(git *)",
      "Bash(ls *)",
      "Bash(cat *)",
      "Bash(head *)",
      "Bash(tail *)",
      "Bash(mkdir *)",
      "Bash(cp *)",
      "Bash(mv *)",
      "Bash(find *)",
      "Bash(grep *)",
      "Bash(for *)",
      "Bash(echo *)",
      "Bash(cd *)",
      "Bash(pwd)",
      "Bash(which *)",
      "Bash(where *)",
      "Bash(test *)",
      "Bash([ *)",
      "Bash(curl *)",
      "Bash(wget *)"
    ],
    "require_confirmation": [],
    "always_deny": [
      "Bash(rm -rf /)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf *)",
      "Bash(sudo rm *)",
      "Bash(format *)",
      "Bash(dd if=*)",
      "Bash(mkfs *)",
      "Bash(shutdown *)",
      "Bash(reboot *)",
      "Bash(init 0)",
      "Bash(init 6)"
    ]
  },
  "bash_commands": {
    "safe_patterns": [
      "npm run *",
      "pnpm *",
      "yarn *",
      "python *",
      "node *",
      "npx *",
      "git *",
      "npm test",
      "npm run lint",
      "npm run typecheck"
    ],
    "require_confirmation": [],
    "blocked_patterns": ["rm -rf /", "rm -rf ~", "sudo rm", "format *", "dd if=", "mkfs *"]
  },
  "session": {
    "auto_save": true,
    "context_file": ".claude/context/session.json",
    "max_context_tokens": 100000
  },
  "rules": {
    "exclude_patterns": [".claude/archive/**"],
    "archive_access": "on_demand"
  },
  "agent_config": {
    "agent_directory": ".claude/agents"
  },
  "extended_thinking": {
    "enabled": true,
    "use_for_agents": [
      "orchestrator",
      "architect",
      "database-architect",
      "qa",
      "security-architect",
      "llm-architect",
      "code-reviewer",
      "performance-engineer",
      "api-designer",
      "legacy-modernizer",
      "compliance-auditor",
      "refactoring-specialist"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash|Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/security-pre-tool.sh"
          }
        ]
      },
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/file-path-validator.js"
          }
        ]
      },
      {
        "matcher": "Read|Write|Edit|Bash|Grep|Glob",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/orchestrator-enforcement-hook.mjs"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/skill-injection-hook.js"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/audit-post-tool.sh"
          }
        ]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/post-session-cleanup.js"
          }
        ]
      }
    ]
  }
}
