{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://llm-rules.com/schemas/performance-requirements.schema.json",
  "title": "Performance Requirements",
  "description": "Performance requirements artifact for performance optimization and SLA definition",
  "type": "object",
  "required": ["requirements_id", "timestamp", "performance_goals", "sla_targets", "metrics"],
  "properties": {
    "requirements_id": {
      "type": "string",
      "description": "Unique identifier for the performance requirements"
    },
    "timestamp": {
      "type": "string",
      "description": "ISO 8601 timestamp of requirements creation",
      "format": "date-time"
    },
    "performance_goals": {
      "type": "object",
      "description": "Overall performance goals and objectives",
      "required": ["response_time", "throughput"],
      "properties": {
        "response_time": {
          "type": "object",
          "description": "Response time goals",
          "properties": {
            "p50_ms": {
              "type": "number",
              "description": "50th percentile response time in milliseconds"
            },
            "p95_ms": {
              "type": "number",
              "description": "95th percentile response time in milliseconds"
            },
            "p99_ms": {
              "type": "number",
              "description": "99th percentile response time in milliseconds"
            },
            "max_ms": {
              "type": "number",
              "description": "Maximum acceptable response time in milliseconds"
            }
          }
        },
        "throughput": {
          "type": "object",
          "description": "Throughput goals",
          "properties": {
            "requests_per_second": {
              "type": "number"
            },
            "concurrent_users": {
              "type": "number"
            },
            "data_processing_rate": {
              "type": "string",
              "description": "Data processing rate (e.g., 10GB/hour)"
            }
          }
        },
        "availability": {
          "type": "object",
          "properties": {
            "uptime_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Target uptime percentage (e.g., 99.9)"
            },
            "max_downtime_minutes_per_month": {
              "type": "number"
            }
          }
        }
      }
    },
    "sla_targets": {
      "type": "array",
      "description": "Service Level Agreement targets",
      "items": {
        "type": "object",
        "required": ["metric", "target", "measurement_period"],
        "properties": {
          "metric": {
            "type": "string",
            "description": "SLA metric name"
          },
          "target": {
            "type": "string",
            "description": "Target value for the metric"
          },
          "measurement_period": {
            "type": "string",
            "description": "Period over which metric is measured (e.g., hourly, daily, monthly)"
          },
          "penalty": {
            "type": "string",
            "description": "Penalty if SLA is breached"
          }
        }
      }
    },
    "metrics": {
      "type": "object",
      "description": "Performance metrics to track",
      "required": ["core_web_vitals"],
      "properties": {
        "core_web_vitals": {
          "type": "object",
          "description": "Core Web Vitals for frontend performance",
          "properties": {
            "lcp_seconds": {
              "type": "number",
              "description": "Largest Contentful Paint target in seconds"
            },
            "fid_ms": {
              "type": "number",
              "description": "First Input Delay target in milliseconds"
            },
            "cls_score": {
              "type": "number",
              "description": "Cumulative Layout Shift target score"
            },
            "fcp_seconds": {
              "type": "number",
              "description": "First Contentful Paint target in seconds"
            },
            "tti_seconds": {
              "type": "number",
              "description": "Time to Interactive target in seconds"
            }
          }
        },
        "backend_metrics": {
          "type": "object",
          "properties": {
            "database_query_time_ms": {
              "type": "number"
            },
            "api_response_time_ms": {
              "type": "number"
            },
            "cache_hit_rate_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            }
          }
        },
        "resource_utilization": {
          "type": "object",
          "properties": {
            "cpu_usage_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "memory_usage_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "disk_io_ops_per_second": {
              "type": "number"
            },
            "network_bandwidth_mbps": {
              "type": "number"
            }
          }
        }
      }
    },
    "load_testing": {
      "type": "object",
      "description": "Load testing requirements and scenarios",
      "properties": {
        "baseline_load": {
          "type": "object",
          "properties": {
            "concurrent_users": {
              "type": "number"
            },
            "requests_per_second": {
              "type": "number"
            }
          }
        },
        "peak_load": {
          "type": "object",
          "properties": {
            "concurrent_users": {
              "type": "number"
            },
            "requests_per_second": {
              "type": "number"
            }
          }
        },
        "stress_test": {
          "type": "object",
          "properties": {
            "max_concurrent_users": {
              "type": "number"
            },
            "duration_minutes": {
              "type": "number"
            }
          }
        },
        "scenarios": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "load_pattern": {
                "type": "string",
                "enum": ["constant", "ramp_up", "spike", "step"]
              }
            }
          }
        }
      }
    },
    "scalability_requirements": {
      "type": "object",
      "description": "Scalability requirements and capacity planning",
      "properties": {
        "horizontal_scaling": {
          "type": "object",
          "properties": {
            "min_instances": {
              "type": "number"
            },
            "max_instances": {
              "type": "number"
            },
            "scale_up_threshold": {
              "type": "string"
            },
            "scale_down_threshold": {
              "type": "string"
            }
          }
        },
        "vertical_scaling": {
          "type": "object",
          "properties": {
            "min_resources": {
              "type": "string"
            },
            "max_resources": {
              "type": "string"
            }
          }
        },
        "projected_growth": {
          "type": "object",
          "properties": {
            "user_growth_rate": {
              "type": "string"
            },
            "data_growth_rate": {
              "type": "string"
            },
            "capacity_planning_horizon": {
              "type": "string"
            }
          }
        }
      }
    },
    "optimization_targets": {
      "type": "array",
      "description": "Specific optimization targets",
      "items": {
        "type": "object",
        "required": ["component", "current_performance", "target_performance"],
        "properties": {
          "component": {
            "type": "string",
            "description": "Component or area to optimize"
          },
          "current_performance": {
            "type": "string",
            "description": "Current performance baseline"
          },
          "target_performance": {
            "type": "string",
            "description": "Target performance goal"
          },
          "optimization_approach": {
            "type": "string",
            "description": "Approach for optimization"
          },
          "priority": {
            "type": "string",
            "enum": ["critical", "high", "medium", "low"]
          }
        }
      }
    },
    "caching_strategy": {
      "type": "object",
      "description": "Caching requirements and strategy",
      "properties": {
        "cache_layers": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "layer": {
                "type": "string",
                "enum": ["cdn", "browser", "application", "database", "distributed"]
              },
              "ttl_seconds": {
                "type": "number"
              },
              "invalidation_strategy": {
                "type": "string"
              }
            }
          }
        },
        "cache_hit_target": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Target cache hit rate percentage"
        }
      }
    },
    "database_performance": {
      "type": "object",
      "description": "Database performance requirements",
      "properties": {
        "query_optimization": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "indexing_strategy": {
          "type": "string"
        },
        "connection_pooling": {
          "type": "object",
          "properties": {
            "min_connections": {
              "type": "number"
            },
            "max_connections": {
              "type": "number"
            }
          }
        },
        "replication": {
          "type": "object",
          "properties": {
            "read_replicas": {
              "type": "number"
            },
            "replication_lag_max_ms": {
              "type": "number"
            }
          }
        }
      }
    },
    "monitoring_requirements": {
      "type": "object",
      "description": "Performance monitoring requirements",
      "properties": {
        "real_user_monitoring": {
          "type": "boolean"
        },
        "synthetic_monitoring": {
          "type": "boolean"
        },
        "apm_tools": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "alerting_thresholds": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "metric": {
                "type": "string"
              },
              "threshold": {
                "type": "string"
              },
              "severity": {
                "type": "string",
                "enum": ["critical", "high", "medium", "low"]
              }
            }
          }
        }
      }
    },
    "benchmarking": {
      "type": "object",
      "description": "Benchmarking requirements",
      "properties": {
        "baseline_benchmarks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "benchmark_name": {
                "type": "string"
              },
              "baseline_value": {
                "type": "string"
              }
            }
          }
        },
        "competitor_comparison": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "competitor": {
                "type": "string"
              },
              "performance_comparison": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "notes": {
      "type": "string",
      "description": "Additional performance notes and considerations"
    }
  }
}
