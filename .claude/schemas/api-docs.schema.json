{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://llm-rules.com/schemas/api-docs.schema.json",
  "title": "API Documentation",
  "description": "Comprehensive API documentation artifact",
  "type": "object",
  "required": [
    "api_name",
    "version",
    "overview",
    "endpoints",
    "authentication",
    "examples"
  ],
  "properties": {
    "api_name": {
      "type": "string",
      "description": "Name of the API"
    },
    "version": {
      "type": "string",
      "description": "API version (e.g., 'v1', '1.0.0')"
    },
    "base_url": {
      "type": "string",
      "description": "Base URL for the API"
    },
    "overview": {
      "type": "object",
      "required": ["description"],
      "properties": {
        "description": {
          "type": "string",
          "minLength": 50,
          "description": "Comprehensive API overview"
        },
        "purpose": {
          "type": "string",
          "description": "Primary purpose of the API"
        },
        "intended_audience": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "key_features": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "getting_started": {
      "type": "object",
      "description": "Quick start guide",
      "properties": {
        "prerequisites": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "setup_steps": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "first_request": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string"
            },
            "example_code": {
              "type": "string"
            },
            "example_response": {
              "type": "string"
            }
          }
        }
      }
    },
    "authentication": {
      "type": "object",
      "required": ["method", "description"],
      "properties": {
        "method": {
          "type": "string",
          "enum": ["api_key", "jwt", "oauth2", "basic", "bearer", "none"]
        },
        "description": {
          "type": "string",
          "minLength": 20
        },
        "how_to_authenticate": {
          "type": "string",
          "description": "Step-by-step authentication instructions"
        },
        "token_acquisition": {
          "type": "object",
          "properties": {
            "endpoint": {
              "type": "string"
            },
            "method": {
              "type": "string"
            },
            "example": {
              "type": "string"
            }
          }
        },
        "token_usage": {
          "type": "object",
          "properties": {
            "header_name": {
              "type": "string"
            },
            "format": {
              "type": "string"
            },
            "example": {
              "type": "string"
            }
          }
        }
      }
    },
    "endpoints": {
      "type": "array",
      "description": "Documented API endpoints",
      "items": {
        "type": "object",
        "required": ["name", "method", "path", "description"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Endpoint name"
          },
          "method": {
            "type": "string",
            "enum": ["GET", "POST", "PUT", "PATCH", "DELETE", "HEAD", "OPTIONS"]
          },
          "path": {
            "type": "string",
            "description": "Endpoint path"
          },
          "description": {
            "type": "string",
            "minLength": 20
          },
          "parameters": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["name", "type", "location", "required", "description"],
              "properties": {
                "name": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "location": {
                  "type": "string",
                  "enum": ["path", "query", "header", "body"]
                },
                "required": {
                  "type": "boolean"
                },
                "description": {
                  "type": "string"
                },
                "default": {
                  "description": "Default value"
                },
                "example": {
                  "description": "Example value"
                }
              }
            }
          },
          "request_body": {
            "type": "object",
            "properties": {
              "content_type": {
                "type": "string"
              },
              "schema": {
                "type": "object"
              },
              "example": {
                "type": "string"
              }
            }
          },
          "responses": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["status_code", "description"],
              "properties": {
                "status_code": {
                  "type": "integer"
                },
                "description": {
                  "type": "string"
                },
                "schema": {
                  "type": "object"
                },
                "example": {
                  "type": "string"
                }
              }
            }
          },
          "code_examples": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "language": {
                  "type": "string",
                  "enum": ["curl", "javascript", "python", "java", "go", "ruby", "php", "csharp"]
                },
                "code": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "examples": {
      "type": "array",
      "description": "Usage examples and tutorials",
      "items": {
        "type": "object",
        "required": ["title", "description", "code"],
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "language": {
            "type": "string"
          },
          "use_case": {
            "type": "string"
          }
        }
      }
    },
    "error_handling": {
      "type": "object",
      "properties": {
        "error_format": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string"
            },
            "example": {
              "type": "string"
            }
          }
        },
        "common_errors": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["code", "message", "description"],
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "resolution": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "rate_limiting": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "limits": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "tier": {
                "type": "string"
              },
              "requests_per_minute": {
                "type": "integer"
              },
              "requests_per_day": {
                "type": "integer"
              }
            }
          }
        },
        "headers": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "description": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "versioning": {
      "type": "object",
      "properties": {
        "strategy": {
          "type": "string",
          "enum": ["url_path", "header", "query_param"]
        },
        "current_version": {
          "type": "string"
        },
        "supported_versions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "deprecation_policy": {
          "type": "string"
        }
      }
    },
    "changelog": {
      "type": "array",
      "description": "API version changelog",
      "items": {
        "type": "object",
        "required": ["version", "date", "changes"],
        "properties": {
          "version": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "changes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "best_practices": {
      "type": "array",
      "description": "Best practices for using the API",
      "items": {
        "type": "string"
      }
    },
    "support": {
      "type": "object",
      "properties": {
        "contact_email": {
          "type": "string",
          "format": "email"
        },
        "documentation_url": {
          "type": "string",
          "format": "uri"
        },
        "support_url": {
          "type": "string",
          "format": "uri"
        }
      }
    }
  }
}
